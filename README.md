# Code generator based workflow engine for PASS models

This prototype aims to execute PASS models and was developed as part of a Masters Thesis.
Currently the supported elements are:
- FullySpecifiedSubjects
- Messages without priorities
- Business Objects (Data Mappings, only integers, strings and date data types)
- Send-states with one outgoing Message
- Receive-states without priorities
- Do-states as user interaction
- DayTimeTimerTransition

## Code structure

## Management interface
The management interface exhibits a simple folder structure generated by the django framework.
The actual code can be found in the .\ManagementInterface\MAfrontend\sbpmfrontend folder and consists of various python files as well as templates.
Besides the basic django structure, the code generator as well as the runner scripts are located there.

## Server side actor system

The server folder consists of the director and IO actor source code as well as a startup script for the actorsystem.

## Installation steps for the prototype
This manual assumes a working Python 3.9+ installation (including PIP package manager). Furhter it is assumed that Python as well as Pip are within the PATH variable. The following commands are all for Windows.

### Create Python VENV

Creating a Python venv is depending on the operating system.
For windows the following commands are used:
```cmd
python -m venv testvenv
.\testvenv\Scripts\activate
```
The second command activates the venv, which is necessary for the management interface as well as the server side actor system. All furhter commands are executed with activated venv.

For your operating system please consult the manual (e.g. via [Python tutorial](https://docs.python.org/3/tutorial/venv.html))

### Installing dependencies

Within the .\ManagementInterface\MAfrontend directory a requirements.txt file exists. It includes all dependencies for this project. They need to be installed with the following command (while the venv is activated!).
```cmd
pip install -r requirements.txt
```
### Creating the database

It is necessary to create the database before the initial startup of the management interface. A SQLite DB is used.
The following commands create the DB and also start a prompt for admin user creation.
```cmd
python manage.py makemigrations sbpmfrontend
python manage.py migrate
python manage.py createsuperuser
```
## Starting the server side actor system

Within the Server directory, a startscript exists. It can be started as follows and it is necessary to perform this operation before the management interface is started. This operation blocks the current shell, therefore it is required to use a separate command window for this operation.
```cmd
cd Server
python start.py
```

## Starting the management interface

Back in the original window (in the .\ManagementInterface\MAfrontend directory), the management interface can now be started as follows:
```cmd
python manage.py runserver
```
This command assumes that port 8000 is avaiable. After this command is executed, the management interface is available under http://127.0.0.1:8000/sbpm/ .

## Stopping the prototype

Initially it is necessary to stop the operation of the management interface by pressing STRG+C in the command line.
For the server side actor system (second window) a simple ENTER press is sufficient (do not press STRG+C).
Afterwards the following command needs to be executed in the management interface terminal (in the .\ManagementInterface\MAfrontend directory):

```cmd
python stop_runner.py
```
